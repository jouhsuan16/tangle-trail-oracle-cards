
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Guidebook</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: white;
    }
    #flipbook {
      width: 400px;
      height: 600px;
      margin: 0 auto;
    }
    #flipbook .page {
      width: 400px;
      height: 600px;
      background-color: white;
    }
    #flipbook .page img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
    }
  </style>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/turn.js@4/turn.min.js"></script>
</head>
<body>
  <div id="flipbook">
    <!-- 40 pages -->
<div class="page"><img src="guidebook/page-1.jpg" alt="page-1"></div>
<div class="page"><img src="guidebook/page-2.jpg" alt="page-2"></div>
<div class="page"><img src="guidebook/page-3.jpg" alt="page-3"></div>
<div class="page"><img src="guidebook/page-4.jpg" alt="page-4"></div>
<div class="page"><img src="guidebook/page-5.jpg" alt="page-5"></div>
<div class="page"><img src="guidebook/page-6.jpg" alt="page-6"></div>
<div class="page"><img src="guidebook/page-7.jpg" alt="page-7"></div>
<div class="page"><img src="guidebook/page-8.jpg" alt="page-8"></div>
<div class="page"><img src="guidebook/page-9.jpg" alt="page-9"></div>
<div class="page"><img src="guidebook/page-10.jpg" alt="page-10"></div>
<div class="page"><img src="guidebook/page-11.jpg" alt="page-11"></div>
<div class="page"><img src="guidebook/page-12.jpg" alt="page-12"></div>
<div class="page"><img src="guidebook/page-13.jpg" alt="page-13"></div>
<div class="page"><img src="guidebook/page-14.jpg" alt="page-14"></div>
<div class="page"><img src="guidebook/page-15.jpg" alt="page-15"></div>
<div class="page"><img src="guidebook/page-16.jpg" alt="page-16"></div>
<div class="page"><img src="guidebook/page-17.jpg" alt="page-17"></div>
<div class="page"><img src="guidebook/page-18.jpg" alt="page-18"></div>
<div class="page"><img src="guidebook/page-19.jpg" alt="page-19"></div>
<div class="page"><img src="guidebook/page-20.jpg" alt="page-20"></div>
<div class="page"><img src="guidebook/page-21.jpg" alt="page-21"></div>
<div class="page"><img src="guidebook/page-22.jpg" alt="page-22"></div>
<div class="page"><img src="guidebook/page-23.jpg" alt="page-23"></div>
<div class="page"><img src="guidebook/page-24.jpg" alt="page-24"></div>
<div class="page"><img src="guidebook/page-25.jpg" alt="page-25"></div>
<div class="page"><img src="guidebook/page-26.jpg" alt="page-26"></div>
<div class="page"><img src="guidebook/page-27.jpg" alt="page-27"></div>
<div class="page"><img src="guidebook/page-28.jpg" alt="page-28"></div>
<div class="page"><img src="guidebook/page-29.jpg" alt="page-29"></div>
<div class="page"><img src="guidebook/page-30.jpg" alt="page-30"></div>
<div class="page"><img src="guidebook/page-31.jpg" alt="page-31"></div>
<div class="page"><img src="guidebook/page-32.jpg" alt="page-32"></div>
<div class="page"><img src="guidebook/page-33.jpg" alt="page-33"></div>
<div class="page"><img src="guidebook/page-34.jpg" alt="page-34"></div>
<div class="page"><img src="guidebook/page-35.jpg" alt="page-35"></div>
<div class="page"><img src="guidebook/page-36.jpg" alt="page-36"></div>
<div class="page"><img src="guidebook/page-37.jpg" alt="page-37"></div>
<div class="page"><img src="guidebook/page-38.jpg" alt="page-38"></div>
<div class="page"><img src="guidebook/page-39.jpg" alt="page-39"></div>
<div class="page"><img src="guidebook/page-40.jpg" alt="page-40"></div>
  </div>

  <script>
    $('#flipbook').turn({
      width: 400,
      height: 600,
      autoCenter: true,
      display: 'single',
      duration: 800
    });

    window.addEventListener("message", function(event) {
      const cardIndex = event.data.cardIndex;
      if (typeof cardIndex === 'number') {
        const pageMap = [
          6,12,24,18,30,27,25,26,29,28,
          10,9,8,11,7,22,19,20,23,21,
          16,13,14,17,15,34,31,32,35,33
        ];
        const targetPage = pageMap[cardIndex];
        setTimeout(() => {
          $('#flipbook').turn('page', targetPage);
        }, 2000);
      }
    });
  </script>
</body>
</html>
